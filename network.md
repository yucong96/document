### 1.3.4 服务原语（primitive）

LISTEN / CONNECT / RECEIVE / SEND / DISCONNECT，以及客户端-服务器端简单通讯的过程介绍。

为何不使用无连接协议？无法处理丢包、乱序等。


### 1.3.5 服务与协议的关系

服务是下层给上层的一组原语（操作、接口）。

协议是同层交换信息的格式和含义。



## 1.4 参考模型


### 1.4.1 OSI参考模型

* 应用层（application layer）（APDU）：直接针对用户需求。

* 表示层（presentation layer）（PPDU）：定义抽象的数据结构和编码方式。

* 会话层（session layer）（SPDU）：提供服务，如对话控制、令牌管理、同步功能等。

* 传输层（transport layer）（TPDU）：

* 网络层（network layer）（包）：控制子网的运行过程，将包从源端路由发送到目标端。

* 数据链路层（data link layer）（帧）：将发送方的输入数据拆开分装成数据帧，顺序传送数据帧。接收方发送确认帧（acknowledgement frame），确认每一帧都已正确收到。

* 物理层（physical layer）（bit）：保证一方发送“1”，另一方也能收到“1”。


### 1.4.2 TCP/IP参考模型

* 应用层（application layer）：对大多数应用不需要会话层和表示层。包含了所有的高层协议。类似于OSI的应用层。协议有TELNET，FTP，SMTP等

* 传输层（transport layer）：允许源和目标主机的对等体进行对话，类似于OSI传输层。协议有TCP和UDP。

* 互联网层（internet layer）：以无连接的互连网络层为基础，允许主机将包发送到任何网络，并让这些包独立地到达目标端（不包括顺序的重新排列），类似于OSI网络层。协议有IP。

* 主机至网络


### 1.4.3 OSI参考模型与TCP/IP参考模型

OSI三大核心：服务、接口、协议

OSI支持无连接和面向连接的通信，TCP/IP只支持无连接通信


### 1.4.4 OSI模型和协议的缺点

时机、技术、实现、政策

### 1.4.5 TCP/IP参考模型的缺点

没有清楚区分服务、接口、协议；不通用；主机至网络层不是一层而是一个接口；没有区分物理层和数据链路层。


## 1.5 网络实例

### 1.5.1 Internet

* ARPANET

* NSFNET

### 1.5.2 面向连接的网络：X.25、帧中继和ATM

### 1.5.3 以太网

### 1.5.4 无线LAN：802.11


## 1.6 网络标准化 1.7 度量单位 1.8 本书其余部分的概要 1.9 本章小结




# 二、物理层



## 2.1 数据通信的理论


### 2.1.1 傅里叶分析

傅里叶分解的数学公式


### 2.1.2 有限带宽的信号

通常，在从0到某个频率fc这一段范围内，振幅在传输过程中不会衰减，在此截止频率fc之上的频率所对应的振幅都会有不同程度的减弱。

传输过程中振幅不会明显减弱的这一段频率范围称为带宽。


### 2.1.3 信道的最大数据传输率

尼奎斯特定理：最大数据传输率 = 2H，H为信道带宽（单位Hz），数据传输率bps

信噪比为信号功率与噪音功率之比，记为S/N。信噪比单位为分贝，换算方式为 10 lg(S/N)

香农定理：最大数据传输率 = H(1+S/N)，H为信道带宽（单位Hz），S/N为信噪比（单位分贝）



## 2.2 有导向的传输介质

### 2.2.1 磁介质
### 2.2.2 双绞线
### 2.2.3 同轴电缆
### 2.2.4 光纤


## 2.3 无线传输


### 2.3.1 电磁波谱

跳频扩频（frequency hopping spread spectrum）：发送方每秒几百次地从一个频率跳到另一种频率。（难以检测，抵抗多路衰减）（WiFi、蓝牙）

直接序列扩频（direct sequence spread spectrum）


### 2.3.2 无线电传输

低频能穿透障碍物，但能量急剧衰减；高频直线传播，会受到障碍物阻挡；无线电波会被雨水吸收。


### 2.3.3 微波传输

微波按直线传播，需要中继器。

多路衰减（multipath fading）：大气层折射而迟到的微波和直接到达的微波不同相，因而抵消了信号。


### 2.3.4 红外线和毫米波

### 2.3.5 光波传输



## 2.4 通信卫星

### 2.4.1 地球同步卫星
### 2.4.2 中间轨道卫星
### 2.4.3 低轨道卫星
### 2.4.4 卫星和光纤


## 2.5 公共交换电话网络

### 2.5.1 电话系统的结构

三个主要部件：本地回路、干线、交换局

电话__本地回路__端局==长途局==中心交换局==长途局==端局__本地回路__电话


### 2.5.2 电话业中的政治学
### 2.5.3 本地回路：调制解调器、ADSL（非对称数字用户线路）和无线


### 2.5.4 干线和多路复用

频分多路复用FDM（frequency division multiplexing）

波分多路复用WDM（Wavelength division multiplexing）：属于频分多路复用

时分多路复用TDM（time division multiplexing）


### 2.5.5 交换



## 2.6 移动电话系统

### 2.6.1 第一代移动电话：模拟语音

### 2.6.2 第二代移动电话：数字语音

码分多路访问CDMA（code division multiple access）举例：

* A, B, C, D 4个移动站的时间片序列

A: 0 0 0 1 1 0 1 1

B: 0 0 1 0 1 1 1 0

C: 0 1 0 1 1 1 0 0

D: 0 1 0 0 0 0 1 0

* A, B, C, D 4个时间片序列的双极表示法（注意四个时间片序列两两正交）

A: -1 -1 -1 +1 +1 -1 +1 +1

B: -1 -1 +1 -1 +1 +1 +1 -1

C: -1 +1 -1 +1 +1 +1 -1 -1

D: -1 +1 -1 -1 -1 -1 +1 -1

* A, B, C, D 同时发送信息0,1或-（不发送）

--1-	C			S1 = -1 +1 -1 +1 +1 +1 -1 -1

-11-	B+C			S2 = -2  0  0  0 +2 +2  0 -2

10--	A+~B		S3 =  0  0 -2 +2  0 -2  0 +2

101-	A+~B+C		S4 = 略

1111	A+B+C+D		S5 = 略

1101	A+B+~C+D	S6 = 略

* 恢复站C，1代表发送了1，-1代表发送了0，0代表没发送

S1*C = (1+1+1+1+1+1+1+1)/8	= 1

S2*C = (2+0+0+0+2+2+0+2)/8	= 1

S3*C = (0+0+2+2+0-2+0-2)/8	= 0

S4*C = (略)/8				= 1

S5*C = (略)/8				= 1

S6*C = (略)/8				= -1


### 2.6.3 第三代移动电话：数字语音与数据


## 2.7 有线电视 2.8 本章小结